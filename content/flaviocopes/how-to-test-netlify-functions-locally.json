{
  "title": "How to test Netlify Functions locally",
  "url": "https://flaviocopes.com/netlify-functions-testing/",
  "date": "Sun, 03 Apr 2022 07:00:00 +0200",
  "content": "        <p>I have quite a few sites hosted on <a href=\"https://flaviocopes.com/netlify/\">Netlify</a>, and some of them use a feature called Netlify Functions.</p><p>This is probably - of course after the incredible static hosting service they provide - my favorite feature.</p><p>You add a JavaScript file with an exported function to handle the request to the URL, and you&rsquo;re set.</p><p>You can do pretty much anything and I use them as little utilities to visualize internal data I need or to perform operations that &ldquo;connect the dots&rdquo; aka glue different tools I use to run my business.</p><blockquote><p>If you want to learn more about them, check out my <a href=\"https://flaviocopes.com/netlify-functions/\">Netlify Functions tutorial</a>.</p></blockquote><p>In this post I want to talk in particular about how to test Netlify functions locally.</p><p>I had this need the other day when I wanted to do a change to a Netlify Function that was live running to handle signups to my Bootcamp and I didn&rsquo;t want to disrupt my operations, causing problems to a customer.</p><p>I did test this &ldquo;live&rdquo; prior to opening signups to see if things were running as expected, but now I had a different need.</p><p>So here&rsquo;s what I did.</p><p>I first installed the Netlify CLI</p><pre tabindex=\"0\"><code>npm install -g netlify-cli</code></pre><p>Then from the website folder I ran</p><pre tabindex=\"0\"><code>netlify functions:serve</code></pre><p>This served the serverless functions locally, on port <code>9999</code> so I just had to reach them using a URL like</p><pre tabindex=\"0\"><code>http://localhost:9999/.netlify/functions/&lt;name&gt;</code></pre><p>and I was able to test them by faking a POST request using <a href=\"https://insomnia.rest\">Insomnia</a>.</p><p>In this way deploying the changes to production was much less stressful.</p><p>This way of testing the functions also grabs any <a href=\"https://flaviocopes.com/netlify-functions-env-variables/\">Netlify environment variables</a> you might have set in the Netlify Dashboard, so it just works like you were running it on Netlify.</p>      ",
  "image": "https://flaviocopes.com/img/avatar.png",
  "description": "I have quite a few sites hosted on Netlify, and some of them use a feature called Netlify Functions.\nThis is probably - of course after the incredible static hosting service they provide - my favorite feature.\nYou add a JavaScript file with an exported function to handle the request to the URL, and you’re set.\nYou can do pretty much anything and I use them as little utilities to visualize internal data I need or to perform operations that “connect the dots” aka glue different tools I use to run my business.",
  "publisher": "Flaviocopes",
  "publisherUrl": "https://flaviocopes.com/"
}